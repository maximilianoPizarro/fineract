#
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

# TODO: add option to install ActiveMQ?

fineractServer:
  # -- Number of backend pods
  replicas: 1
  image:
    # -- Fineract Docker image name
    name: apache/fineract
    # -- Fineract Docker image tag
    tag: 1.12.1
  # -- Dictionary of key/value pairs to pass as environment variables to the backend pods
  # They will be evaluated as Helm templates
  # @default -- See `values.yaml`
  extraEnv:
    DRIVERCLASS_NAME: com.mysql.cj.jdbc.Driver
    PROTOCOL: jdbc
    SUB_PROTOCOL: mysql
    fineract_tenants_driver: com.mysql.cj.jdbc.Driver
    FINERACT_DEFAULT_TENANTDB_PORT: "3306"
    LOG_OUTPUT_TYPE: console_plain
  # -- Same as `extraEnv` but passed as secrets
  extraSecretEnv: {}
  # -- Resource settings for Backend pods
  resources:
    limits:
      cpu: "4000m"
      memory: "4Gi"
  # -- ServiceAccount settings
  serviceAccount:
    ## Specifies whether a ServiceAccount should be created
    ##
    create: true
    ## The name of the ServiceAccount to use.
    ## If not set and create is true, a name is generated using the mysql.fullname template
    ##
    # name:
    ## Annotations to add to the service account (evaluated as a template)
    ##
    name: "fineractserver-sa"

    automount: true

    annotations: {}      

fineractUI:
  # -- Number of frontend pods
  replicas: 1
  image:
    # -- Frontend Docker image name
    name: openmf/community-app
    # -- Frontend Docker image tag
    tag: latest
  # -- Resource settings for Backend pods
  resources:
    limits:
      cpu: "100m"
      memory: "100Mi"
  # -- ServiceAccount settings
  serviceAccount:
    ## Specifies whether a ServiceAccount should be created
    ##
    create: true
    ## The name of the ServiceAccount to use.
    ## If not set and create is true, a name is generated using the mysql.fullname template
    ##
    # name:
    ## Annotations to add to the service account (evaluated as a template)
    ##
    name: "fineractui-sa"

    automount: true

    annotations: {}         

global:
  db:
    # -- DB name for tenants db
    tenantsDb: fineract_tenants
    # -- DB name for defaults db
    defaultDb: fineract_default
route:
  enabled: true  
  host: fineract.openshiftapps.com
# -- MySQL settings - see https://artifacthub.io/packages/helm/bitnami/mysql
# @default -- see `values.yaml`
mysql:
  # -- Install MySQL?
  enabled: false
  auth:
    # -- Please change these...
    rootPassword: 'fineract_tenants'
    # -- Please change these...
    password: 'fineract'
    # -- Fineract db user
    username: fineract

service:
  # -- Service type for Fineract and UI services
  type: ClusterIP

ingress:
  # -- Create Ingress?
  enabled: false
  # -- Ingress annotations
  annotations: {}
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
  # -- List of domains to serve on
  hosts: []
  # -- TLS settings
  tls: []
  #  - secretName: chart-example-tls
  #    hosts:
  #      - chart-example.local

